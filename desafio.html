<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="reset.css">
	<link rel="stylesheet" href="style.css">
	<title>Decodificador</title>
</head>
<body>
	<header>
		<img src="logo_alura.png" alt="Logo Escola Alura">
	</header>
	<main class="conteudo-principal">
		<textarea class="mudaTexto" cols="70" rows="1" id="DigitaTexto" oninput='if(this.scrollHeight > this.offsetHeight) this.rows += 1' placeholder="Digite seu Texto"></textarea>
		<div class="botao">
			<p class="aviso vetor">Apenas letras minúsculas e sem acento.</p>
			<input class="botaoAzul" type="button" value="Criptografar" onclick="javascript:botaoCriptografar()">
			<input class="botaoBranco" type="submit" value="Descriptografar" onclick="javascript:botaoDescriptografar()">
		</div>
		<div class="descripto">
			<img class="caixa" src="retangulo.png">
			<textarea class="mensagem" cols='70' rows="1" oninput='if(this.scrollHeight > this.offsetHeight) this.rows += 1' id="DTexto"></textarea>
			<img class="avatar" src="avatar.png" alt="Homem com lupa">
			<div class="mensagem-descripto">
				<h2 class="aviso-mensagem">Nenhuma Mensagem Encontrada</h2>
				<p class="frase">Digite um texto que você deseja criptografar e descriptografar</p>
			</div>
			<input class="botaoCopiar" type="submit" value="Copiar" onclick="copiarTexto()">
		</div>
		<script>
			const avatar = document.querySelector('.avatar');
			var textoDigitado = document.querySelector('.mudaTexto');
			const botaoCopiar = document.querySelector('.botaoCopiar');
			const textoCripto = document.querySelector('.mensagem');
			const apagarMensagem = document.querySelector('.mensagem-descripto');
			
			function botaoCriptografar() {			   
				avatar.style.display = 'none';
				cripto();
				
				if (textoCripto.value) {
					textoDigitado.value = "";
					apagarMensagem.style.display = 'none';
					botaoCopiar.style.display = 'block'

				}
			}	

			function copiarTexto() {
				textoCripto.select();
				var copiou = document.execCommand('copy');

				if (copiou) {
					textoCripto.value = "";
				}
			}
			
			function cripto(encriptado) {
					
					var encriptado = textoDigitado.value;
					encriptado = encriptado.toLowerCase();
					var codificador = encriptado.replace(/e/g,'enter').replace(/i/,'imes').replace(/a/g,'ai').replace(/o/g,'ober').replace(/u/g,'ufat');
					textoCripto.value = codificador;		
				}

			function descripto() {
					const textoDescripto = textoDigitado.value;
					var decodificador = textoDescripto.replace(/enter/g,'e').replace(/imes/,'i').replace(/ai/g,'a').replace(/ober/g,'o').replace(/ufat/g,'u');
					textoCripto.value = decodificador;		
				}

			function botaoDescriptografar() {			   
				descripto();
				
				if (textoCripto.value) {
					textoDigitado.value = "";
					apagarMensagem.style.display = 'none';
				}
			}			
		</script>

		<footer>
		<a href="https://www.linkedin.com/in/camila-ramos-adm/"><img src="linkedin.png" alt="logo linkedin"></a>
		<a href="https://github.com/Camila-RamosP"><img src="github.png" alt="logo github"></a>
		<p class="nome">Criado por Camila Ramos</p>
	</footer>
</body>
</html>